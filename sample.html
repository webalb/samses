{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <!-- School Header -->
    <div class="school-header text-center">
        <h1>{{ school.name }}</h1>
        <p class="text-muted">A comprehensive profile of the school infrastructure.</p>
    </div>

    <hr>

    <!-- Classrooms Section -->
    <div class="section">
        <h2>Classrooms</h2>
        {% if classrooms %}
            <p><strong>Number of Classrooms:</strong> {{ classrooms.number_of_classrooms }}</p>
            <p><strong>Details:</strong> {{ classrooms.classrooms_availability }}</p>
        {% else %}
            <p>No classroom data available.</p>
        {% endif %}

        <div class="row">
            {% for image in classroom_images %}
                <div class="col-md-4">
                    <img src="{{ image.image.url }}" alt="Classroom Image" class="img-fluid rounded mb-3">
                    {% if image.description %}
                        <p class="text-muted">{{ image.description }}</p>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    </div>

    <hr>

    <!-- Library Section -->
    <div class="section">
        <h2>Library</h2>
        {% if library %}
            <p><strong>Book Count:</strong> {{ library.book_count }}</p>
            <p><strong>Digital Access:</strong> {{ library.digital_access|yesno:"Yes,No" }}</p>
            <p><strong>Study Space Capacity:</strong> {{ library.study_space_capacity }}</p>
            <p><strong>Details:</strong> {{ library.library_availability }}</p>
        {% else %}
            <p>No library data available.</p>
        {% endif %}

        <div class="row">
            {% for image in library_images %}
                <div class="col-md-4">
                    <img src="{{ image.image.url }}" alt="Library Image" class="img-fluid rounded mb-3">
                    {% if image.description %}
                        <p class="text-muted">{{ image.description }}</p>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    </div>

    <hr>

    <!-- Laboratories Section -->
    <div class="section">
        <h2>Laboratories</h2>
        {% if laboratories %}
            <ul>
                {% for lab in laboratories %}
                    <li>
                        <strong>{{ lab.lab_type }}:</strong> {{ lab.lab_availability }}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No laboratory data available.</p>
        {% endif %}

        <div class="row">
            {% for image in laboratory_images %}
                <div class="col-md-4">
                    <img src="{{ image.image.url }}" alt="Laboratory Image" class="img-fluid rounded mb-3">
                    {% if image.description %}
                        <p class="text-muted">{{ image.description }}</p>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    </div>

    <hr>

    <!-- Computer Labs Section -->
    <div class="section">
        <h2>Computer Labs</h2>
        {% if computer_labs %}
            <ul>
                {% for lab in computer_labs %}
                    <li>
                        <strong>Number of Computers:</strong> {{ lab.number_of_computers }}
                        <br><strong>Internet Access:</strong> {{ lab.internet_access|yesno:"Yes,No" }}
                        <br><strong>Smart Classrooms:</strong> {{ lab.smart_classrooms|yesno:"Yes,No" }}
                        <br>{{ lab.computer_lab_availability }}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No computer lab data available.</p>
        {% endif %}

        <div class="row">
            {% for image in computer_lab_images %}
                <div class="col-md-4">
                    <img src="{{ image.image.url }}" alt="Computer Lab Image" class="img-fluid rounded mb-3">
                    {% if image.description %}
                        <p class="text-muted">{{ image.description }}</p>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    </div>

    <hr>

    <!-- Sports Facilities Section -->
    <div class="section">
        <h2>Sports Facilities</h2>
        {% if sports_facilities %}
            <ul>
                {% for facility in sports_facilities %}
                    <li>
                        <strong>{{ facility.facility_type }}:</strong> {{ facility.field_availability }}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No sports facility data available.</p>
        {% endif %}

        <div class="row">
            {% for image in sports_facility_images %}
                <div class="col-md-4">
                    <img src="{{ image.image.url }}" alt="Sports Facility Image" class="img-fluid rounded mb-3">
                    {% if image.description %}
                        <p class="text-muted">{{ image.description }}</p>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
